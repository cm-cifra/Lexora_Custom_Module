<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Root menu under Inventory -->
    <menuitem id="menu_stock_move_line_return_root"
              name="Stock Move Lines"
              parent="stock.menu_stock_root"
              sequence="30"/>

    <!-- Custom Tree View for Return Moves -->
    <record id="view_stock_move_line_return_tree" model="ir.ui.view">
        <field name="name">stock.move.line.return.tree</field>
        <field name="model">stock.move.line</field>
        <field name="arch" type="xml">
            <tree string="Return Move Lines">
                <field name="reference"/>
                <field name="product_id"/>
               
            </tree>
        </field>
    </record>

    <!-- Action: Only return move lines -->
    <record id="action_stock_move_line_return" model="ir.actions.act_window">
        <field name="name">Return Move Lines</field>
        <field name="res_model">stock.move.line</field>
        <field name="view_mode">tree,form</field>
        <!-- âœ… Filter by reference starting with WH/IN/RETURN -->
        <field name="domain">[("reference", "like", "WH/IN/RETURN%")]</field>
        <field name="views" eval="[(ref('view_stock_move_line_return_tree'), 'tree'), (False, 'form')]"/>
        <field name="help" type="html">
            <p>No return stock move lines found.</p>
        </field>
    </record>

    <!-- Submenu -->
    <menuitem id="menu_stock_move_line_return"
              name="Return Moves"
              parent="menu_stock_move_line_return_root"
              action="action_stock_move_line_return"
              sequence="10"/>
</odoo>
